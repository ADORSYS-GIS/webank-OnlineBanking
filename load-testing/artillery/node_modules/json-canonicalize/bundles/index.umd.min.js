(function (global, factory) {
    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :
    typeof define === 'function' && define.amd ? define(['exports'], factory) :
    (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.JsonCanonicalize = {}));
}(this, (function (exports) { 'use strict';

    function canonicalize(n){var r="";return i(n),r;function i(n){if(null===n||"object"!=typeof n||null!=n.toJSON)r+=JSON.stringify(n);else if(Array.isArray(n)){r+="[";var t=!1;n.forEach((function(n){t&&(r+=","),t=!0,void 0===n&&(n=null),i(n);})),r+="]";}else {r+="{",Object.keys(n).filter((function(r){return void 0!==n[r]})).sort().forEach((function(t,o){return function(n,t,o){o>0&&(r+=",");r+=JSON.stringify(t),r+=":",i(n[t]);}(n,t,o)})),r+="}";}}}

    function canonicalizeEx(n,r){var t="",e=r&&r.include,i=r&&r.exclude;return i&&"string"==typeof i&&(i=[i]),e&&e.sort(),f(n),t;function f(n,r){if(null===n||"object"!=typeof n||null!=n.toJSON)t+=JSON.stringify(n);else if(Array.isArray(n)){t+="[";var i=!1;n.forEach((function(r){i&&(t+=","),i=!0,f(r,n);})),t+="]";}else {if(t+="{",!r&&e)e.forEach((function(r,t){n.hasOwnProperty(r)&&o(n,r,t);}));else Object.keys(n).sort().forEach((function(r,t){return o(n,r,t)}));t+="}";}}function o(n,r,e){if(i&&i.length)for(var o=0,c=i;o<c.length;o++){if(c[o]===r)return}e>0&&(t+=","),t+=JSON.stringify(r),t+=":",f(n[r],n);}}

    exports.canonicalize = canonicalize;
    exports.canonicalizeEx = canonicalizeEx;

    Object.defineProperty(exports, '__esModule', { value: true });

})));
//# sourceMappingURL=index.umd.min.js.map
